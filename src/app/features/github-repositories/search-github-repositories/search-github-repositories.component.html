<div class="p-4">
	<h2 class="text-base font-semibold leading-7 text-gray-900">
		Search in Github repositories
	</h2>
	<p class="mt-1 text-sm leading-6 text-gray-600"></p>
	<div>
		<form [formGroup]="searchForm" (ngSubmit)="searchRepositories()">
			<input
				formControlName="query"
				placeholder="Search GitHub repositories"
				class="block w-1/3 rounded-md border-0 p-2 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" />
			<button
				type="submit"
				class="mt-3 justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
				[disabled]="isLoading() || searchForm.invalid">
				Search
			</button>
		</form>
		<div class="mt-2">
			@if (isLoading()) {
				<div>Loading...</div>
			} @else if (error()) {
				<div>{{ error() }}</div>
			} @else {
				<ul>
					<li *ngFor="let repo of repositories()">
						<a
							[routerLink]="[
								'/github-repository-analytics/',
								repo.owner.login,
								repo.name
							]">
							{{ repo.full_name }}
						</a>
					</li>
				</ul>
			}
		</div>
	</div>
</div>
